(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{103:function(t,e,n){},104:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"fetchContactsRequest",(function(){return x})),n.d(c,"fetchContactsSuccess",(function(){return C})),n.d(c,"fetchContactsError",(function(){return _})),n.d(c,"addContactRequest",(function(){return g})),n.d(c,"addContactSuccess",(function(){return v})),n.d(c,"addContactError",(function(){return y})),n.d(c,"deleteContactRequest",(function(){return E})),n.d(c,"deleteContactSuccess",(function(){return N})),n.d(c,"deleteContactError",(function(){return w})),n.d(c,"filterContact",(function(){return L}));var r={};n.r(r),n.d(r,"fetchContacts",(function(){return B})),n.d(r,"addContact",(function(){return I})),n.d(r,"deleteContact",(function(){return M}));var a={};n.r(a),n.d(a,"getContacts",(function(){return W})),n.d(a,"getLoading",(function(){return Y})),n.d(a,"getError",(function(){return H})),n.d(a,"getFilter",(function(){return Q})),n.d(a,"getVisibleContacts",(function(){return T}));var o,i,u,s=n(2),b=n(0),l=n.n(b),j=n(15),d=n.n(j),f=n(8),O=n(7),m=n(6),h=n(52),p=n(18),x=Object(O.b)("contacts/fetchContactsRequest"),C=Object(O.b)("contacts/fetchContactsSuccess"),_=Object(O.b)("contacts/fetchContactsError"),g=Object(O.b)("contacts/addContactRequest"),v=Object(O.b)("contacts/addContactSuccess"),y=Object(O.b)("contacts/addContactError"),E=Object(O.b)("contacts/deleteContactRequest"),N=Object(O.b)("contacts/deleteContactSuccess"),w=Object(O.b)("contacts/deleteContactError"),L=Object(O.b)("contacts/filter"),k=Object(O.c)([],(o={},Object(m.a)(o,C,(function(t,e){return e.payload})),Object(m.a)(o,v,(function(t,e){var n=e.payload;return[].concat(Object(h.a)(t),[n])})),Object(m.a)(o,N,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),o)),F=Object(O.c)(!1,(i={},Object(m.a)(i,x,(function(){return!0})),Object(m.a)(i,C,(function(){return!1})),Object(m.a)(i,_,(function(){return!1})),Object(m.a)(i,g,(function(){return!0})),Object(m.a)(i,v,(function(){return!1})),Object(m.a)(i,y,(function(){return!1})),Object(m.a)(i,E,(function(){return!0})),Object(m.a)(i,N,(function(){return!1})),Object(m.a)(i,w,(function(){return!1})),i)),S=Object(O.c)("",Object(m.a)({},L,(function(t,e){return e.payload}))),q=Object(O.c)(null,(u={},Object(m.a)(u,_,(function(t,e){return e.payload})),Object(m.a)(u,y,(function(t,e){return e.payload})),Object(m.a)(u,w,(function(t,e){return e.payload})),Object(m.a)(u,x,(function(){return null})),Object(m.a)(u,g,(function(){return null})),Object(m.a)(u,E,(function(){return null})),u)),R=Object(p.b)({items:k,filter:S,isLoading:F,error:q}),z=Object(O.a)({reducer:{contacts:R}}),P=n(21),D=(n(64),n(48)),G=n.n(D);var J=function(t){var e=t.children;return Object(s.jsx)("div",{className:G.a.container,children:e})},K=n(35),V=n(26),A=n.n(V);A.a.defaults.baseURL="http://localhost:4040";var B=function(){return function(t){t(x()),A.a.get("/contacts").then((function(e){var n=e.data;return t(C(n))})).catch((function(e){return t(_(e))}))}},I=function(t,e){return function(n){var c={name:t,number:e};n(g()),function(t){return A.a.post("/contacts",t)}(c).then((function(t){var e=t.data;return n(v(e))})).catch((function(t){return n(y(t))}))}},M=function(t){return function(e){e(E()),function(t){return A.a.delete("/contacts/".concat(t))}(t).then((function(){return e(N(t))})).catch((function(t){return e(w(t))}))}},U=n(28),W=function(t){return t.contacts.items},Y=function(t){return t.contacts.isLoading},H=function(t){return t.contacts.error},Q=function(t){return t.contacts.filter},T=Object(U.a)([W,Q],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),X=n(49),Z=n.n(X),$=n(50),tt=n.n($),et=(n(102),n(51)),nt=n.n(et);var ct=function(){return Object(s.jsx)("div",{className:nt.a.overlay,children:Object(s.jsx)(tt.a,{type:"Circles",color:"#770007",height:50,width:100,timeout:2e3})})},rt=n(22),at=n.n(rt);var ot=function(){Object(f.b)();var t=Object(f.c)(a.getContacts),e=Object(f.c)(a.getLoading),n=Object(b.useState)(""),c=Object(K.a)(n,2),r=c[0],o=c[1],i=Object(b.useState)(""),u=Object(K.a)(i,2),l=u[0],j=u[1],d=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":o(c);break;case"number":j(c);break;default:return}},O=function(){o(""),j("")};return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("form",{className:at.a.form,onSubmit:function(e){e.preventDefault(),!function(e){return t.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(r)?!function(e){return t.find((function(t){return t.number===e}))}(l)?!function(t,e){return""===t.trim()||""===e.trim()}(r,l)?function(t){return!/\d{3}[-]\d{2}[-]\d{2}/g.test(t)}(l)&&P.b.error("Enter the correct number phone!"):P.b.info("Enter the contact's name and number phone!"):Object(P.b)("".concat(l," is already in the phonebook.")):Object(P.b)("".concat(r," is already in the phonebook.")),O()},children:[Object(s.jsxs)("label",{className:at.a.label,children:["Name",Object(s.jsx)("input",{className:at.a.input,type:"text",name:"name",value:r,onChange:d,placeholder:"Enter name"})]}),Object(s.jsxs)("label",{className:at.a.label,children:["Number",Object(s.jsx)(Z.a,{options:{delimiter:"-",blocks:[3,2,2]},placeholder:"Enter number",type:"tel",name:"number",value:l,onChange:d,className:at.a.input})]}),!e&&Object(s.jsx)("button",{className:at.a.btn,type:"submit",children:"Add contact"}),e&&Object(s.jsx)(ct,{})]})})},it=n(109),ut=n(108),st={initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{ease:"easeOut",duration:.3}},bt=n(33),lt=n.n(bt);var jt=function(){var t=Object(f.b)(),e=Object(f.c)(a.getFilter),n=Object(f.c)(a.getContacts),r=Object(f.c)(a.getError);return Object(s.jsx)(s.Fragment,{children:n.length>0&&!r&&Object(s.jsx)(it.a,{children:Object(s.jsx)("label",{className:lt.a.label,children:Object(s.jsx)(ut.a.input,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:st,className:lt.a.input,type:"text",value:e,onChange:function(e){return t(c.filterContact(e.target.value))}})})})})},dt=n.p+"static/media/error.a28f3ecb.jpg",ft=n(34),Ot=n.n(ft);var mt=function(t){var e=t.message;return Object(s.jsx)(it.a,{children:Object(s.jsxs)(ut.a.div,{role:"alert",className:Ot.a.wrapper,initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{ease:"easeOut",duration:.3},children:[Object(s.jsx)("img",{src:dt,width:"300",alt:"Sad PC"}),Object(s.jsx)("p",{text:e,className:Ot.a.text,children:e})]})})},ht=n(27),pt=n.n(ht);var xt=function(){var t=Object(f.b)(),e=Object(f.c)(a.getVisibleContacts),n=Object(f.c)(a.getContacts),c=Object(f.c)(a.getLoading),o=Object(f.c)(a.getError);return Object(b.useEffect)((function(){return t(r.fetchContacts())}),[t]),Object(s.jsxs)(s.Fragment,{children:[n.length>0&&!o&&Object(s.jsx)(ut.a.ul,{className:pt.a.list,children:Object(s.jsx)(it.a,{children:e.map((function(e){var n=e.id,c=e.name,a=e.number;return Object(s.jsxs)(ut.a.li,{className:pt.a.item,initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:st,children:[Object(s.jsxs)("p",{className:pt.a.info,children:[Object(s.jsx)("b",{children:c}),Object(s.jsx)("em",{children:a})]}),Object(s.jsx)("button",{className:pt.a.btn,type:"button",onClick:function(){return t(r.deleteContact(n))}})]},n)}))})}),!n.length&&!o&&!c&&Object(s.jsx)(it.a,{children:Object(s.jsx)(ut.a.p,{initial:"initial",animate:"animate",exit:"exit",transition:"transition",variants:st,children:"Your phonebook is empty. Please add contact."})}),o&&Object(s.jsx)(mt,{message:o.message})]})};var Ct=function(){return Object(s.jsxs)(J,{children:[Object(s.jsx)("h1",{children:"Phonebook"}),Object(s.jsx)(ot,{}),Object(s.jsx)("h2",{children:"Contacts"}),Object(s.jsx)(jt,{}),Object(s.jsx)(xt,{}),Object(s.jsx)(P.a,{autoClose:3700,position:"top-center"})]})};n(103);d.a.render(Object(s.jsx)(l.a.StrictMode,{children:Object(s.jsx)(f.a,{store:z,children:Object(s.jsx)(Ct,{})})}),document.getElementById("root"))},22:function(t,e,n){t.exports={form:"ContactForm_form__3eN9w",label:"ContactForm_label__v2NL_",input:"ContactForm_input__3NFi8",btn:"ContactForm_btn__3rKjW"}},27:function(t,e,n){t.exports={list:"ContactList_list__FEd-O",item:"ContactList_item__2y35w",btn:"ContactList_btn__-iz41",info:"ContactList_info__kE_cK"}},33:function(t,e,n){t.exports={label:"Filter_label__2C_-r",input:"Filter_input__zOcDL"}},34:function(t,e,n){t.exports={wrapper:"Error_wrapper__27D0w",img:"Error_img__2GOGf",text:"Error_text__aoPzw"}},48:function(t,e,n){t.exports={container:"Container_container__3O00E"}},51:function(t,e,n){t.exports={overlay:"LoaderComponent_overlay__2qz75"}}},[[104,1,2]]]);
//# sourceMappingURL=main.ae4c8d3a.chunk.js.map